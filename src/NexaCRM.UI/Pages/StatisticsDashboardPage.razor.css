@layer page {
:root {
    --statistics-shell-mobile: min(100%, 100vw);
    --statistics-shell-tablet: 64rem;
    --statistics-shell-desktop: 78rem;
    --statistics-panel-surface: color-mix(in srgb, var(--surface-color) 90%, var(--surface-muted) 10%);
    --statistics-panel-border: color-mix(in srgb, var(--divider-color) 70%, transparent);
    --statistics-panel-shadow: var(--shadow-soft-layer, 0 2px 6px rgba(15, 23, 42, 0.12));
    --statistics-card-surface: color-mix(in srgb, var(--surface-color) 94%, var(--surface-muted) 6%);
    --statistics-card-border: color-mix(in srgb, var(--statistics-panel-border) 85%, transparent);
    --statistics-focus-ring: var(--focus-ring, rgba(124, 130, 143, 0.35));
    --statistics-chip-surface: color-mix(in srgb, var(--surface-muted) 75%, transparent);
    --statistics-accent-members: #6366f1;
    --statistics-accent-logins: #2563eb;
    --statistics-accent-downloads: #0ea5e9;
}

.dashboard-skip-link {
    position: absolute;
    top: -999px;
    left: -999px;
    z-index: 1000;
    padding: var(--spacing-sm, 0.5rem) var(--spacing-md, 1rem);
    background-color: var(--org-primary, #2153c8);
    color: var(--surface-200, #ffffff);
    border-radius: var(--radius-md, 12px);
    font-weight: var(--font-weight-semibold, 600);
    letter-spacing: 0.01em;
    box-shadow: var(--shadow-soft, 0 18px 32px rgba(15, 23, 42, 0.08));
    transition:
        transform var(--motion-duration-sm, 180ms) var(--motion-ease-standard, cubic-bezier(0.2, 0, 0, 1)),
        top var(--motion-duration-sm, 180ms) var(--motion-ease-standard, cubic-bezier(0.2, 0, 0, 1)),
        left var(--motion-duration-sm, 180ms) var(--motion-ease-standard, cubic-bezier(0.2, 0, 0, 1));
}

.dashboard-skip-link:focus-visible {
    top: 1.25rem;
    left: 1.5rem;
    outline: 3px solid var(--statistics-focus-ring);
    outline-offset: 3px;
}

.common-page-container[data-page="statistics-dashboard"] {
    background: color-mix(in srgb, var(--surface-muted) 85%, rgba(245, 246, 251, 0.35));
}

.statistics-dashboard {
    width: min(100%, var(--statistics-shell-mobile));
    margin: calc(var(--app-shell-page-header-offset, 0px) + 1rem) auto clamp(2.5rem, 2rem + 1vw, 4rem);
    background: var(--statistics-panel-surface);
    border-radius: var(--radius-lg, 18px);
    border: 1px solid var(--statistics-panel-border);
    box-shadow: var(--statistics-panel-shadow);
    backdrop-filter: blur(18px);
    overflow: hidden;
    transition: box-shadow var(--motion-duration-sm, 180ms) var(--motion-ease-standard, cubic-bezier(0.2, 0, 0, 1));
}

.statistics-dashboard__main {
    display: flex;
    flex-direction: column;
    gap: clamp(1.5rem, 1.25rem + 0.5vw, 2.5rem);
    padding: clamp(1.75rem, 1.5rem + 0.5vw, 2.5rem) clamp(1.25rem, 1rem + 0.5vw, 2.25rem) clamp(2.75rem, 2.25rem + 1vw, 4.25rem);
    min-height: 100%;
    scroll-margin-top: calc(var(--app-shell-page-header-offset, 0px) + 1rem);
}

.statistics-dashboard__main:focus-visible {
    outline: 3px solid var(--statistics-focus-ring);
    outline-offset: 4px;
}

.statistics-dashboard__header {
    display: flex;
    flex-direction: column;
    gap: clamp(1rem, 0.8rem + 0.5vw, 1.5rem);
}

.statistics-dashboard__header-copy {
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
}

.statistics-dashboard__eyebrow {
    margin: 0;
    font-size: 0.75rem;
    font-weight: var(--font-weight-semibold, 600);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: color-mix(in srgb, var(--text-secondary) 85%, transparent);
}

.statistics-dashboard__title {
    margin: 0;
    font-size: clamp(1.75rem, 1.5rem + 0.5vw, 2.25rem);
    font-weight: var(--font-weight-bold, 700);
    color: var(--text-primary);
}

.statistics-dashboard__subtitle {
    margin: 0;
    max-width: 52ch;
    color: color-mix(in srgb, var(--text-secondary) 85%, transparent);
    line-height: 1.6;
}

.statistics-dashboard__meta {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 0.4rem;
    font-weight: var(--font-weight-semibold, 600);
    color: var(--text-primary);
}

.statistics-dashboard__range {
    font-size: 0.95rem;
}

.statistics-dashboard__window {
    font-size: 0.8rem;
    font-weight: var(--font-weight-medium, 500);
    padding: 0.35rem 0.75rem;
    border-radius: var(--radius-pill, 999px);
    background: color-mix(in srgb, var(--statistics-accent-logins) 12%, transparent);
    color: var(--statistics-accent-logins);
}

.statistics-toolbar {
    display: flex;
    flex-wrap: wrap;
    align-items: flex-start;
    justify-content: space-between;
    gap: clamp(0.75rem, 0.6rem + 0.5vw, 1.25rem);
}

.statistics-toolbar__quick {
    display: flex;
    flex-wrap: wrap;
    gap: clamp(0.65rem, 0.55rem + 0.25vw, 1rem);
}

.statistics-quick-range {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 0.25rem;
    min-block-size: var(--touch-target-min, 44px);
    min-inline-size: clamp(8.5rem, 7rem + 2vw, 10.5rem);
    padding: 0.65rem 1.1rem;
    border: 1px solid var(--statistics-card-border);
    border-radius: var(--radius-md, 12px);
    background: color-mix(in srgb, var(--surface-muted) 90%, transparent);
    color: var(--text-primary);
    cursor: pointer;
    transition:
        transform var(--motion-duration-sm, 180ms) var(--motion-ease-standard, cubic-bezier(0.2, 0, 0, 1)),
        box-shadow var(--motion-duration-sm, 180ms) var(--motion-ease-standard, cubic-bezier(0.2, 0, 0, 1)),
        border-color var(--motion-duration-sm, 180ms) var(--motion-ease-standard, cubic-bezier(0.2, 0, 0, 1)),
        background-color var(--motion-duration-sm, 180ms) var(--motion-ease-standard, cubic-bezier(0.2, 0, 0, 1));
}

.statistics-quick-range:hover:not(:disabled),
.statistics-quick-range:focus-visible:not(:disabled) {
    transform: translateY(-1px);
    border-color: color-mix(in srgb, var(--statistics-accent-logins) 45%, transparent);
    box-shadow: 0 18px 36px -28px color-mix(in srgb, var(--statistics-accent-logins) 55%, transparent);
}

.statistics-quick-range:focus-visible {
    outline: 3px solid color-mix(in srgb, var(--statistics-focus-ring) 65%, transparent);
    outline-offset: 3px;
}

.statistics-quick-range:disabled {
    cursor: not-allowed;
    opacity: 0.6;
}

.statistics-quick-range.active {
    border-color: color-mix(in srgb, var(--statistics-accent-logins) 55%, transparent);
    background: color-mix(in srgb, var(--statistics-accent-logins) 18%, transparent);
    box-shadow: 0 20px 44px -28px color-mix(in srgb, var(--statistics-accent-logins) 60%, transparent);
}

.statistics-quick-range__label {
    font-size: 0.95rem;
    font-weight: var(--font-weight-semibold, 600);
}

.statistics-quick-range__caption {
    font-size: 0.75rem;
    color: color-mix(in srgb, var(--text-secondary) 80%, transparent);
}

.statistics-toolbar__dates {
    display: flex;
    flex-wrap: wrap;
    align-items: flex-end;
    gap: clamp(0.65rem, 0.5rem + 0.35vw, 0.95rem);
}

.statistics-date-field {
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
    font-size: 0.75rem;
    font-weight: var(--font-weight-semibold, 600);
    color: color-mix(in srgb, var(--text-secondary) 85%, transparent);
}

.statistics-date-field__label {
    letter-spacing: 0.05em;
    text-transform: uppercase;
}

.statistics-date-field .form-control {
    border-radius: var(--radius-md, 12px);
    border: 1px solid var(--statistics-card-border);
    background: color-mix(in srgb, var(--surface-muted) 88%, transparent);
    color: var(--text-primary);
    font-size: 0.85rem;
    padding-inline: 0.75rem;
}

.statistics-date-field .form-control:focus {
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--statistics-focus-ring) 60%, transparent);
}

.statistics-toolbar__refresh {
    padding-inline: 1.35rem;
    font-weight: var(--font-weight-semibold, 600);
}

.statistics-dashboard__loading {
    display: flex;
    justify-content: center;
    padding: 2rem 0;
}

.statistics-dashboard__empty {
    margin: 0;
    padding: 2rem 0;
    color: color-mix(in srgb, var(--text-secondary) 80%, transparent);
    font-size: 0.95rem;
}

.statistics-tiles {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: clamp(1rem, 0.9rem + 0.45vw, 1.5rem);
}

.statistics-tile {
    --statistics-tile-accent: var(--statistics-accent-members);
    display: flex;
    flex-direction: column;
    gap: clamp(0.65rem, 0.55rem + 0.25vw, 0.9rem);
    padding: clamp(1.25rem, 1.1rem + 0.35vw, 1.75rem);
    min-inline-size: 0;
    background: var(--statistics-card-surface);
    border: 1px solid var(--statistics-card-border);
    border-radius: var(--radius-lg, 18px);
    box-shadow: var(--statistics-panel-shadow);
    transition:
        transform var(--motion-duration-sm, 180ms) var(--motion-ease-standard, cubic-bezier(0.2, 0, 0, 1)),
        box-shadow var(--motion-duration-sm, 180ms) var(--motion-ease-standard, cubic-bezier(0.2, 0, 0, 1));
}

.statistics-tile[data-variant="logins"] {
    --statistics-tile-accent: var(--statistics-accent-logins);
}

.statistics-tile[data-variant="downloads"] {
    --statistics-tile-accent: var(--statistics-accent-downloads);
}

.statistics-tile:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-deep-layer, 0 4px 16px rgba(15, 23, 42, 0.16));
}

.statistics-tile__icon {
    inline-size: 44px;
    block-size: 44px;
    display: grid;
    place-items: center;
    border-radius: var(--radius-md, 12px);
    background: color-mix(in srgb, var(--statistics-tile-accent) 15%, transparent);
    color: var(--statistics-tile-accent);
}

.statistics-tile__label {
    font-size: 0.85rem;
    font-weight: var(--font-weight-semibold, 600);
    letter-spacing: 0.02em;
    text-transform: uppercase;
    color: color-mix(in srgb, var(--text-secondary) 75%, transparent);
}

.statistics-tile__value {
    font-size: clamp(1.75rem, 1.5rem + 0.75vw, 2.25rem);
    font-weight: var(--font-weight-bold, 700);
    color: var(--text-primary);
}

.statistics-tile__meta {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-top: 0.35rem;
}

.statistics-tile__caption {
    font-size: 0.75rem;
    color: color-mix(in srgb, var(--text-secondary) 75%, transparent);
}

.statistics-tile__hint {
    font-size: 0.8rem;
    color: color-mix(in srgb, var(--text-secondary) 80%, transparent);
}

.statistics-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-inline-size: 3.25rem;
    padding: 0.25rem 0.75rem;
    border-radius: var(--radius-pill, 999px);
    font-size: 0.75rem;
    font-weight: var(--font-weight-semibold, 600);
    background: var(--statistics-chip-surface);
    color: var(--text-primary);
}

.statistics-badge.positive {
    background: color-mix(in srgb, #12b76a 18%, transparent);
    color: #0f8a4b;
}

.statistics-badge.negative {
    background: color-mix(in srgb, #ef4444 18%, transparent);
    color: #b91c1c;
}

.statistics-badge.neutral {
    background: color-mix(in srgb, var(--statistics-chip-surface) 85%, transparent);
    color: color-mix(in srgb, var(--text-secondary) 85%, transparent);
}

.statistics-charts {
    display: grid;
    grid-template-columns: 1fr;
    gap: clamp(1.25rem, 1.1rem + 0.5vw, 1.85rem);
}

.statistics-chart {
    --statistics-chart-accent: var(--statistics-accent-logins);
    display: flex;
    flex-direction: column;
    gap: clamp(1rem, 0.9rem + 0.25vw, 1.35rem);
    padding: clamp(1.5rem, 1.25rem + 0.5vw, 2rem);
    background: var(--statistics-card-surface);
    border: 1px solid var(--statistics-card-border);
    border-radius: var(--radius-lg, 18px);
    box-shadow: var(--statistics-panel-shadow);
    min-inline-size: 0;
    transition:
        transform var(--motion-duration-sm, 180ms) var(--motion-ease-standard, cubic-bezier(0.2, 0, 0, 1)),
        box-shadow var(--motion-duration-sm, 180ms) var(--motion-ease-standard, cubic-bezier(0.2, 0, 0, 1));
}

.statistics-chart[data-variant="downloads"] {
    --statistics-chart-accent: var(--statistics-accent-downloads);
}

.statistics-chart:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-deep-layer, 0 4px 16px rgba(15, 23, 42, 0.16));
}

.statistics-chart__header {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.statistics-chart__titles {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.statistics-chart__eyebrow {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: color-mix(in srgb, var(--text-secondary) 75%, transparent);
}

.statistics-chart__title {
    margin: 0;
    font-size: clamp(1.15rem, 1.05rem + 0.25vw, 1.4rem);
    font-weight: var(--font-weight-semibold, 600);
    color: var(--text-primary);
}

.statistics-chart__subtitle {
    font-size: 0.85rem;
    color: color-mix(in srgb, var(--text-secondary) 78%, transparent);
}

.statistics-chart__value {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.statistics-chart__number {
    font-size: clamp(1.5rem, 1.35rem + 0.5vw, 1.85rem);
    font-weight: var(--font-weight-bold, 700);
    color: var(--text-primary);
}

.statistics-chart__chart {
    inline-size: 100%;
    aspect-ratio: 3 / 2;
}

.statistics-chart__grid line {
    stroke: color-mix(in srgb, var(--statistics-card-border) 65%, transparent);
    stroke-width: 0.6;
}

.statistics-chart__line {
    stroke: var(--statistics-chart-accent);
}

.statistics-chart__dot {
    fill: var(--statistics-chart-accent);
}

.statistics-chart__gradient-start {
    stop-color: color-mix(in srgb, var(--statistics-chart-accent) 40%, transparent);
    stop-opacity: 0.5;
}

.statistics-chart__gradient-end {
    stop-color: color-mix(in srgb, var(--statistics-chart-accent) 10%, transparent);
    stop-opacity: 0;
}

.statistics-chart__axis {
    display: flex;
    justify-content: space-between;
    font-size: 0.75rem;
    color: color-mix(in srgb, var(--text-secondary) 75%, transparent);
}

.statistics-chart__insights {
    display: grid;
    gap: 0.5rem;
}

.statistics-chart__insight {
    display: flex;
    justify-content: space-between;
    gap: 0.75rem;
    font-size: 0.85rem;
}

.statistics-chart__insight-label {
    color: color-mix(in srgb, var(--text-secondary) 78%, transparent);
}

.statistics-chart__insight-value {
    font-weight: var(--font-weight-semibold, 600);
    color: var(--text-primary);
}

.statistics-chart__empty {
    padding: 1.5rem;
    text-align: center;
    border-radius: var(--radius-md, 12px);
    background: color-mix(in srgb, var(--statistics-chip-surface) 90%, transparent);
    color: color-mix(in srgb, var(--text-secondary) 80%, transparent);
}

[data-theme="dark"] .common-page-container[data-page="statistics-dashboard"] {
    background: color-mix(in srgb, rgba(17, 24, 39, 0.85) 70%, var(--surface-muted) 30%);
}

[data-theme="dark"] .statistics-dashboard {
    background: color-mix(in srgb, rgba(30, 41, 59, 0.78) 85%, transparent);
    border-color: color-mix(in srgb, rgba(148, 163, 184, 0.35) 70%, transparent);
    box-shadow: 0 24px 48px -36px rgba(0, 0, 0, 0.6);
}

[data-theme="dark"] .statistics-dashboard__window {
    color: #dbeafe;
    background: color-mix(in srgb, var(--statistics-accent-logins) 28%, transparent);
}

[data-theme="dark"] .statistics-quick-range {
    border-color: color-mix(in srgb, rgba(148, 163, 184, 0.35) 70%, transparent);
    background: color-mix(in srgb, rgba(30, 41, 59, 0.65) 80%, transparent);
    color: var(--surface-200, #f8fafc);
}

[data-theme="dark"] .statistics-quick-range__caption,
[data-theme="dark"] .statistics-dashboard__subtitle,
[data-theme="dark"] .statistics-tile__hint,
[data-theme="dark"] .statistics-tile__caption,
[data-theme="dark"] .statistics-chart__subtitle,
[data-theme="dark"] .statistics-chart__axis,
[data-theme="dark"] .statistics-chart__insight-label,
[data-theme="dark"] .statistics-dashboard__empty {
    color: color-mix(in srgb, rgba(203, 213, 225, 0.85) 90%, transparent);
}

[data-theme="dark"] .statistics-quick-range.active {
    border-color: color-mix(in srgb, var(--statistics-accent-logins) 55%, transparent);
    background: color-mix(in srgb, var(--statistics-accent-logins) 24%, transparent);
    color: #e2e8f0;
}

[data-theme="dark"] .statistics-date-field .form-control {
    border-color: color-mix(in srgb, rgba(148, 163, 184, 0.35) 70%, transparent);
    background: color-mix(in srgb, rgba(30, 41, 59, 0.68) 85%, transparent);
    color: #f8fafc;
}

[data-theme="dark"] .statistics-tile,
[data-theme="dark"] .statistics-chart {
    background: color-mix(in srgb, rgba(30, 41, 59, 0.82) 85%, transparent);
    border-color: color-mix(in srgb, rgba(148, 163, 184, 0.35) 70%, transparent);
    box-shadow: 0 24px 48px -36px rgba(0, 0, 0, 0.6);
}

[data-theme="dark"] .statistics-tile__icon {
    background: color-mix(in srgb, var(--statistics-tile-accent) 24%, transparent);
    color: color-mix(in srgb, var(--statistics-tile-accent) 80%, #e0f2fe);
}

[data-theme="dark"] .statistics-chart__grid line {
    stroke: color-mix(in srgb, rgba(148, 163, 184, 0.35) 70%, transparent);
}

[data-theme="dark"] .statistics-chart__empty {
    background: color-mix(in srgb, rgba(30, 41, 59, 0.75) 85%, transparent);
}

[data-theme="dark"] .statistics-badge.neutral {
    background: color-mix(in srgb, rgba(148, 163, 184, 0.35) 70%, transparent);
    color: #e2e8f0;
}

@media (min-width: 768px) {
    .statistics-dashboard {
        width: min(100%, var(--statistics-shell-tablet));
    }

    .statistics-dashboard__header {
        flex-direction: row;
        justify-content: space-between;
        align-items: flex-end;
    }

    .statistics-dashboard__meta {
        align-items: flex-end;
    }

    .statistics-chart__header {
        flex-direction: row;
        justify-content: space-between;
        align-items: flex-end;
    }
}

@media (min-width: 1024px) {
    .statistics-dashboard {
        width: min(100%, var(--statistics-shell-desktop));
    }

    .statistics-charts {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
}

@media (prefers-reduced-motion: reduce) {
    .statistics-quick-range,
    .statistics-tile,
    .statistics-chart {
        transition: none;
    }

    .statistics-quick-range:hover,
    .statistics-tile:hover,
    .statistics-chart:hover {
        transform: none;
    }
}
}
