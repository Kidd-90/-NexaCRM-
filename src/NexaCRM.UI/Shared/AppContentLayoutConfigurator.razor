@using System.Collections.Generic
@using Microsoft.AspNetCore.Components

@code {
    [CascadingParameter]
    private AppContentLayoutOptions LayoutOptions { get; set; } = default!;

    [Parameter]
    public string LayoutMode { get; set; } = AppContentLayoutSettings.DefaultLayoutMode;

    [Parameter]
    public string? AdditionalCssClass { get; set; }

    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object?> AdditionalAttributes { get; set; } = new(StringComparer.Ordinal);

    protected override void OnParametersSet()
    {
        IReadOnlyDictionary<string, object?>? attributes = AdditionalAttributes.Count == 0
            ? null
            : new Dictionary<string, object?>(AdditionalAttributes, StringComparer.Ordinal);

        LayoutOptions.Apply(new AppContentLayoutSettings(LayoutMode, AdditionalCssClass, attributes));
    }
}
