/* Navigation Rail - responsive icon rail + detail panel */
/* Panel styles moved to line ~345 - consolidated single definition */

@keyframes railPanelReveal {
    0% {
        opacity: 0;
        transform: translateX(-18px) scale(0.96);
    }
    
    100% {
        opacity: 1;
        transform: none;
        box-shadow: 0 8px 32px rgba(76, 29, 149, 0.08), 0 1.5px 0 rgba(76, 29, 149, 0.04);
    }
}

.nav-rail-shell {
    display: flex;
    flex-direction: row;
    position: static;
    background-color: var(--surface-100, #F8F9FB);
    height: 100vh;
    width: var(--sidebar-width, 320px);
    --nav-rail-icons-width: 108px;
    --rail-spine-width: 72px;
    --nav-rail-panel-width: 280px; /* íŒ¨ë„ ë„ˆë¹„ëŠ” ìœ ì§€ */
    --sidebar-width: calc(var(--nav-rail-icons-width) + var(--nav-rail-panel-width));
    border-radius: var(--radius-lg, 24px);
    box-shadow: var(--shadow-100, 0 8px 24px rgba(21, 33, 65, 0.06));
}

.nav-rail-shell.collapsed {
    --sidebar-width: var(--nav-rail-icons-width);
    --nav-rail-panel-width: 0px;
    --rail-spine-width: 72px;
}

/* On small screens, account for the mobile header height */
@media (max-width: 767px) {
    .nav-rail {
        top: var(--app-shell-page-header-offset-mobile, 72px);
    }
}

/* Ensure the nav rail sits above common overlays (mobile overlay, global actions)
   and accepts pointer events so icon clicks are not blocked. Keep this modest
   to avoid covering toasts and modal backdrops which intentionally sit above. */
.nav-rail-shell {
    /* Keep a high stacking context so the rail stays interactive above
       most app overlays. When fixed it should still accept pointer events. */
    pointer-events: auto;
}

/* When collapsed, the rail stays the same width since it only contains icons.
   The panel will be hidden separately via its own collapsed class. */
.nav-rail__icons {
    width: var(--nav-rail-icons-width);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    padding: var(--space-md, 24px) var(--space-sm, 12px);
    background: var(--surface-100, #F8F9FB);
    pointer-events: auto;
    position: relative;
    height: 100%;
    overflow: visible;
    gap: clamp(0.6rem, 1.5vh, 1rem);
}

.rail-footer {
    flex: 0 0 auto;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: clamp(0.55rem, 1.2vh, 0.8rem);
    margin-top: auto;
}

.rail-track {
    width: 100%;
    min-height: clamp(170px, 17.5vh, 200px);
    padding: clamp(1.55rem, 3vh, 2.05rem) clamp(0.6rem, 1.1vw, 0.85rem);
    border-radius: 36px;
    background: linear-gradient(180deg, #d7dae0 0%, #c8cbd2 48%, #bcc0c7 100%);
    box-shadow:
        inset 0 4px 10px rgba(255, 255, 255, 0.7),
        inset 0 -6px 12px rgba(126, 130, 140, 0.32),
        0 20px 26px rgba(24, 28, 34, 0.18);
    display: flex;
    align-items: center;
    justify-content: center;
}

.rail-track__inner {
    width: 100%;
    height: 100%;
    border-radius: 28px;
    padding: clamp(0.4rem, 0.9vh, 0.55rem) clamp(0.2rem, 0.6vw, 0.45rem);
    background: linear-gradient(180deg, #eef1f7 0%, #dde0e6 50%, #d0d2d8 100%);
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.92),
        inset 0 -1px 0 rgba(180, 184, 192, 0.45);
    display: flex;
    align-items: center;
    justify-content: center;
    writing-mode: vertical-rl;
    transform: rotate(180deg);
}

.rail-track__label {
    text-transform: uppercase;
    font-size: 0.62rem;
    letter-spacing: 0.46em;
    font-weight: 600;
    color: rgba(104, 108, 118, 0.86);
    text-align: center;
}

.rail-track--bottom {
    min-height: clamp(132px, 13.5vh, 168px);
}

.rail-track--top {
    min-height: clamp(118px, 11vh, 148px);
}

.rail-spine {
    width: var(--rail-spine-width);
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: clamp(0.18rem, 0.55vh, 0.32rem);
    padding: clamp(0.85rem, 1.8vh, 1.15rem) clamp(0.6rem, 1.4vw, 0.85rem);
    border-radius: 1.5rem;
    background: linear-gradient(180deg, #161921 0%, #0f1219 40%, #161a24 100%);
    box-shadow:
        0 36px 52px rgba(8, 10, 18, 0.46),
        inset 0 1px 0 rgba(255, 255, 255, 0.06),
        inset 0 -1px 0 rgba(0, 0, 0, 0.38);
    position: relative;
    overflow: visible;
    flex: 1 1 auto;
    width: 100%;
}

.rail-spine__segment {
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.rail-spine__segment--head {
    padding-bottom: clamp(0.3rem, 0.8vh, 0.5rem);
    flex-shrink: 0;
}

.rail-spine__segment--body {
    padding: clamp(0.95rem, 2vh, 1.3rem) clamp(0.2rem, 0.6vw, 0.4rem) clamp(0.4rem, 0.9vh, 0.5rem);
    display: flex;
    flex-direction: column;
    align-items: center;
    flex: 1 1 auto;
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.08),
        inset 0 -1px 0 rgba(0, 0, 0, 0.32);
}

.rail-spine__segment--body::after {
    content: "";
    position: absolute;
    left: 50%;
    bottom: -18px;
    transform: translateX(-50%);
    width: 48%;
    height: 36px;
    border-radius: 18px;
    background: linear-gradient(180deg, rgba(21, 24, 34, 0.85) 0%, rgba(11, 13, 19, 0) 100%);
    filter: blur(16px);
    opacity: 0.45;

/* Ensure interactive items in the panel accept pointer events and sit above decorative overlays */
.panel-card__menu {
    position: relative;
    z-index: 5;
}

.panel-card__item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.6rem 0.8rem;
    border-radius: 8px;
    text-decoration: none;
    color: inherit;
    cursor: pointer;
    pointer-events: auto; /* defensive: ensure clicks reach the anchor */
    position: relative;
    z-index: 6; /* above panel backgrounds */
}

.panel-card__item:focus,
.panel-card__item:focus-visible {
    outline: 2px solid rgba(100, 120, 255, 0.9);
    outline-offset: 2px;
    pointer-events: none;
}

.rail-spine__segment--tail {
    padding: clamp(0.6rem, 1.2vh, 0.85rem) clamp(0.25rem, 0.7vw, 0.45rem) clamp(0.5rem, 1.1vh, 0.75rem);
    border-radius: 26px;
    background: linear-gradient(180deg, rgba(232, 236, 244, 0.52) 0%, rgba(57, 63, 82, 0.24) 45%, rgba(12, 14, 20, 0.94) 100%);
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.35),
        inset 0 -1px 0 rgba(18, 19, 28, 0.5),
        0 18px 26px rgba(6, 8, 14, 0.32);
    flex-shrink: 0;
}

.rail-spine::before,
.rail-spine::after {
    content: "";
    position: absolute;
    left: 50%;
    width: calc(100% - 12px);
    transform: translateX(-50%);
    pointer-events: none;
    filter: blur(24px);
    opacity: 0.6;
}

.rail-spine::before {
    top: -28px;
    height: 96px;
    background: linear-gradient(180deg, rgba(128, 136, 156, 0.25) 0%, rgba(23, 26, 36, 0) 100%);
}

.rail-spine::after {
    bottom: -32px;
    height: 116px;
    background: linear-gradient(180deg, rgba(23, 26, 36, 0) 0%, rgba(128, 136, 156, 0.18) 55%, rgba(23, 26, 36, 0.04) 100%);
}

.rail-spine__stack {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: clamp(0.5rem, 1vh, 0.72rem);
    padding: 0;
}

.rail-spine__spark,
.rail-spine__icon,
.rail-spine__settings {
    appearance: none;
    border: none;
    cursor: pointer;
    position: relative;
    display: grid;
    place-items: center;
    line-height: 1;
    border-radius: 1.5rem;
    transition: color 160ms ease, background 160ms ease, box-shadow 160ms ease, transform 160ms ease, border-color 160ms ease;
}

.rail-spine__spark {
    width: clamp(48px, 4.2vw, 54px);
    height: clamp(48px, 4.2vw, 54px);
    border-radius: 18px;
    background: linear-gradient(180deg, #343b4d 0%, #1d2230 100%);
    border: 1px solid rgba(196, 203, 224, 0.35);
    color: rgba(242, 245, 255, 0.92);
    box-shadow:
        0 22px 32px rgba(8, 10, 18, 0.55),
        inset 0 2px 2px rgba(255, 255, 255, 0.16);
    font-size: 1.16rem;
}

.rail-spine__icon {
    width: clamp(48px, 4.2vw, 54px);
    height: clamp(48px, 4.4vw, 54px);
    border-radius: 18px;
    background: linear-gradient(180deg, rgba(32, 36, 46, 0.18) 0%, rgba(18, 20, 28, 0.24) 100%);
    border: 0.75px solid rgba(118, 124, 142, 0.28);
    color: rgba(202, 210, 224, 0.78);
    font-size: 1.18rem;
    text-decoration: none !important;
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.08),
        0 10px 18px rgba(6, 8, 14, 0.28);
}

.rail-spine__icon:hover:not(.is-active):not(.active),
.rail-spine__icon:focus-visible:not(.is-active):not(.active) {
    color: #ffffff;
    background: var(--accent-500, #6C5CE7);
    border-color: rgba(170, 178, 200, 0.42);
    box-shadow: 0 20px 28px rgba(8, 10, 16, 0.44), inset 0 1px 0 rgba(255, 255, 255, 0.12);
    transform: translateY(-1px);
}

.rail-spine__icon--home {
    font-size: 1.24rem;    
    color: var(--text-primary);
    background: var(--surface-200);
}

.rail-spine__icon.is-active,
.rail-spine__icon.active {
    width: clamp(54px, 4.8vw, 62px);
    height: clamp(54px, 4.9vw, 62px);
    border-radius: 22px;
    background: var(--accent-500, #6C5CE7);
    color: var(--neutral-white, #FFFFFF);
    border-width: 1px;
    border-color: rgba(255, 255, 255, 0.85);
    box-shadow:
        0 26px 34px rgba(12, 14, 20, 0.46),
        inset 0 2px 3px rgba(255, 255, 255, 0.82);
    transform: translateY(-3px);
}

.rail-spine__icon.is-active:hover,
.rail-spine__icon.active:hover {
    background: var(--accent-500, #6C5CE7);
}

.rail-spine__spark:hover,
.rail-spine__spark:focus-visible {
    color: #ffffff;
    background: linear-gradient(180deg, #3e465a 0%, #212633 100%);
    border-color: rgba(212, 220, 236, 0.55);
    box-shadow: 0 26px 36px rgba(8, 10, 18, 0.52), inset 0 2px 2px rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
}

.rail-spine__settings-shell {
    width: calc(100% - clamp(10px, 1.2vw, 14px));
    max-width: 72px;
    padding: clamp(0.35rem, 0.9vh, 0.5rem);
    border-radius: 24px;
    background: linear-gradient(180deg, #f2f4f7 0%, #dfe2e8 100%);
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.92),
        inset 0 -1px 0 rgba(152, 156, 166, 0.3),
        0 12px 16px rgba(8, 10, 18, 0.26);
    display: flex;
    justify-content: center;
}

.rail-spine__settings {
    width: clamp(46px, 4vw, 52px);
    height: clamp(46px, 4vw, 52px);
    border-radius: 18px;
    background: linear-gradient(180deg, #11141c 0%, #03050b 100%);
    color: rgba(244, 246, 255, 0.92);
    border: 1px solid rgba(206, 212, 228, 0.32);
    box-shadow:
        0 24px 32px rgba(8, 10, 18, 0.52),
        inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.rail-spine__settings:hover,
.rail-spine__settings:focus-visible {
    color: #ffffff;
    background: linear-gradient(180deg, rgba(56, 60, 70, 0.8) 0%, rgba(16, 19, 27, 0.96) 100%);
    border-color: rgba(220, 226, 240, 0.48);
    box-shadow: 0 26px 34px rgba(8, 10, 18, 0.52), inset 0 1px 0 rgba(255, 255, 255, 0.18);
    transform: translateY(-2px);
}

.rail-spine__spark i,
.rail-spine__icon i,
.rail-spine__settings i {
    font-size: 1.18rem;
    pointer-events: none;
}

.rail-spine__spark:focus-visible,
.rail-spine__icon:focus-visible,
.rail-spine__settings:focus-visible {
    outline: 2px solid rgba(124, 147, 255, 0.7);
    outline-offset: 3px;
}

.nav-rail__main,
.nav-rail__main-inner {
    display: none;
}
.rail-debug {
    position: absolute;
    top: 6px;
    left: 6px;
    display: flex;
    flex-direction: column;
    gap: 2px;
    padding: 6px 8px;
    background: rgba(30, 30, 30, 0.9);
    width: 100%;
    min-width: 100%;
    max-width: 100%;
    box-shadow: 0 2px 6px rgba(2, 6, 23, 0.06);
    pointer-events: none;
    z-index: 10002;
    font-size: 11px;
}

.rail-icon{display:none!important;}

.rail-icon:hover {display:none!important;}

.rail-icon:active {display:none!important;}

.rail-icon.active {display:none!important;}

/* Make active icons visually larger without changing layout flow */
.rail-icon.active,
.rail-icon:hover {display:none!important;}

/* Slight hover feedback on the icon glyph */
.rail-icon i,
.rail-icon img {display:none!important;}

/* Make only the profile button fully round */
.rail-icon--profile {display:none!important;}

/* Green login indicator dot at bottom-right of the profile icon */
.rail-icon--profile .indicator-dot {display:none!important;}

.nav-rail__bottom {
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    gap: 0.3rem;
    /* increase spacing between bottom icons */
    /* keep a top padding but ensure the bottom group sits above the fixed company logo */
    padding: 0.25rem 0 0.75rem;
    /* keep the bottom group visually pinned within the icons column so
         it remains visible even if the main area needs to scroll */
    position: sticky;
    /* nudge the sticky anchor lower so settings icon sits further down */
    bottom: calc(6px + env(safe-area-inset-bottom));
    z-index: 10008;
    /* sit above the fixed company logo (which is 10005) */
    /* ensure bottom group sits at the end of the icons grid and is clickable */
    align-self: end;
    /* add modest bottom offset so the icons sit comfortably above the fixed logo */
    /* increase bottom padding so clickable targets clear the fixed logo */
    padding-bottom: calc(36px + env(safe-area-inset-bottom));
    padding-bottom: 12px;
    /* add a subtle top border so the main/bottom boundary is visually obvious */
    border-top: 1px solid #ffffff;
    border-radius: 0.75rem;
    border-color: #ffffff;
    background: #ffffff;
    min-height: 0;
    width: 100%;
}

/* Company logo button at the very bottom of the rail */
.rail-logo--company {
    display: grid;
    place-items: center;
    width: 52px;
    height: 52px;
    /* Keep the company logo fixed near the bottom of the rail but avoid
       extremely high z-index values or debug outlines in production. */
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    bottom: 16px;
    z-index: 10005;
    border-radius: 8px;
    overflow: hidden;
    background: #FFFFFF;
    /* small white background for contrast */
    box-shadow: 0 8px 20px rgba(2, 6, 23, 0.08);
}

.rail-logo--company img {
    width: 28px;
    height: 28px;
    object-fit: contain;
}

.rail-logo {
    display: grid;
    place-items: center;    width: 44px;
    height: 44px;
    padding: 0.35rem;
    border-radius: 14px;
    border: 1px solid rgba(148, 163, 184, 0.35);
    background: linear-gradient(160deg, rgba(7, 21, 44, 0.92), rgba(15, 78, 185, 0.85));
    box-shadow: 0 10px 24px rgba(12, 24, 46, 0.22);
    overflow: hidden;
    /* allow the SVG to render fully without clipping */
    order: 0;
    /* keep top logo at natural position */
    position: static;
    /* restore to document flow so bottom company logo is visible */
}
.rail-logo__image {
    width: 100%;
    height: 100%;
    border-radius: 12px;
    object-fit: contain;
    filter: drop-shadow(0 4px 10px rgba(14, 26, 45, 0.35));
}

.nav-rail__panel {
    width: var(--nav-rail-panel-width);
    min-width: 0;
    display: flex;
    flex-direction: column !important;
    visibility: visible !important;
    opacity: 1 !important;
    z-index: 10000 !important;
    pointer-events: auto !important;
    box-sizing: border-box;
    background: var(--surface-100, #F8F9FB);
    border: 1px solid var(--border-color, #e5e7eb);
    border-radius: var(--radius-lg, 24px);
    padding: clamp(1.4rem, 1.2rem + 0.8vw, 2rem);
    overflow-y: auto;
    overflow-x: hidden;
    box-shadow: var(--shadow-100, 0 8px 24px rgba(21, 33, 65, 0.06));
    backdrop-filter: blur(18px);
    transition: opacity 200ms ease, transform 240ms cubic-bezier(.2, .9, .2, 1);
}

.panel-content {
    display: flex;
    flex-direction: column;
    gap: clamp(1rem, 0.8rem + 1vw, 1.6rem);
    min-height: 100%;
}

.panel-user {
    display: flex;
    align-items: center;
    gap: 0.85rem;
    padding: 1rem 1.1rem;
    border-radius: 24px;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(235, 239, 247, 0.92));
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.8),
        0 12px 24px rgba(15, 23, 42, 0.12);
}

.panel-user__avatar {
    width: 52px;
    height: 52px;
    border-radius: 18px;
    background: linear-gradient(180deg, #4348ff 0%, #2d2f74 100%);
    display: grid;
    place-items: center;
    color: #fff;
    font-weight: 700;
    font-size: 1.05rem;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.4), 0 12px 20px rgba(67, 72, 255, 0.25);
}

.panel-user__info {
    display: flex;
    flex-direction: column;
    gap: 0.1rem;
}

.panel-user__name {
    font-weight: 700;
    font-size: 1rem;
    color: #1e2233;
}

.panel-user__email {
    font-size: 0.8rem;
    color: #6b7280;
}

.panel-user__details-btn {
    margin-left: auto;
    border: none;
    background: radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.85), rgba(231, 233, 241, 0.5));
    color: #657081;
    padding: 0.35rem;
    border-radius: 10px;
    transition: transform 120ms ease, box-shadow 120ms ease;
}

.panel-user__details-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 6px 14px rgba(15, 23, 42, 0.16);
}

.panel-user-details {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-top: -0.25rem;
    padding: 0.85rem 1rem 1rem 1rem;
    border-radius: 20px;
    background: rgba(247, 248, 252, 0.95);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.9), 0 14px 28px rgba(15, 23, 42, 0.08);
}

.panel-user-details__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-weight: 600;
    color: #1f2937;
}

.panel-user-details__list {
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
}

.panel-user-details__item {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    color: #4b5563;
    font-size: 0.85rem;
}

.panel-user-details__item i {
    font-size: 0.95rem;
    color: #6366f1;
}

.panel-user-details__actions {
    display: flex;
    gap: 0.6rem;
}

.panel-user-details__action-btn {
    flex: 1 1 0;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.45rem;
    padding: 0.55rem 0.75rem;
    border-radius: 12px;
    border: 1px solid rgba(99, 102, 241, 0.35);
    background: linear-gradient(180deg, #ffffff, #eceffd);
    color: #1f2937;
    font-weight: 600;
}

.panel-user-details__action-btn--danger {
    border-color: rgba(244, 63, 94, 0.35);
    background: linear-gradient(180deg, #fff5f5, #ffe4e6);
    color: #dc2626;
}

.panel-section-heading {
    font-size: 0.75rem;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: #747a8c;
    margin-top: 0.4rem;
}

.panel-card {
    display: flex;
    flex-direction: column;
    gap: 0.45rem;
    padding: 1rem;
    border-radius: var(--radius-md, 16px);
    background: var(--surface-200, #FFFFFF);
    box-shadow: var(--shadow-100, 0 8px 24px rgba(21, 33, 65, 0.06));
}

.panel-card__header {
    font-size: 0.8rem;
    color: #88909f;
    text-transform: uppercase;
    letter-spacing: 0.18em;
    margin-bottom: 0.35rem;
}

.panel-card__menu {
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
}

.panel-card__item.is-folder {
    font-weight: 700;
}

.panel-card__item.is-child {
    padding-left: 2rem; /* Indent child items */
}

.panel-card__item {
    display: flex;
    align-items: center;
    gap: 0.65rem;
    padding: 0.65rem 0.9rem;
    border-radius: 16px;
    background: transparent;
    color: var(--text-primary);
    text-decoration: none !important;
    font-weight: 500;
    transition: background 160ms ease, box-shadow 160ms ease, transform 120ms ease, border 160ms ease;
    border-left: 3px solid transparent;
}

.panel-card__item:hover {
    background: rgba(236, 239, 252, 0.55);
    box-shadow: 0 10px 18px rgba(15, 23, 42, 0.06);
}

.panel-card__item--active {
    background: var(--muted-300, #E8EEF3);
    color: var(--text-primary);
    transform: translateY(-1px);
    border-left-color: var(--accent-500, #6C5CE7);
}

.panel-card__icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    border-radius: 12px;
    background: rgba(241, 245, 255, 0.65);
    color: #6366f1;
    font-size: 1rem;
}

.panel-card__icon.folder-icon::before {
    content: 'ðŸ“'; /* Basic folder icon */
}

.panel-card__item--active .panel-card__icon {
    background: rgba(99, 102, 241, 0.1);
    color: #4f46e5;
}

.panel-card__label {
    display: inline-flex;
    text-decoration: none !important;
    align-items: center;
    flex: 1 1 auto;
    min-width: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.panel-card__chevron {
    color: #c1c7d4;
    font-size: 0.85rem;
}

.panel-card__item--active .panel-card__chevron {
    color: #4f46e5;
}

.panel-track {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
}

.panel-track__inner {
    width: 100%;
    padding: 0.65rem 0.85rem;
    border-radius: 18px;
    background: rgba(248, 249, 254, 0.8);
    border: 1px solid rgba(189, 198, 214, 0.4);
    text-align: left;
    font-size: 0.78rem;
    text-transform: uppercase;
    letter-spacing: 0.22em;
    color: #7d8494;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.75);
}

.panel-track--top {
    width: 100%;
}

.panel-track--bottom {
    width: 100%;
    margin-top: 50px;
}

.panel-track--top .panel-track__inner {
    background: rgba(255, 255, 255, 0.9);
}

.panel-track--bottom .panel-track__inner {
    background: rgba(236, 243, 255, 0.92);
    border-color: rgba(147, 180, 230, 0.42);
    color: #5f6c85;
}

.panel-empty {
    padding: 1.2rem;
    border-radius: 18px;
    background: rgba(255, 255, 255, 0.68);
    text-align: center;
    color: #94a3b8;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

.panel-empty__title {
    font-weight: 600;
    margin-bottom: 0.35rem;
}

.panel-empty__subtitle {
    margin: 0;
    font-size: 0.85rem;
}

.panel-footer-injected {
    margin-top: auto;
    padding-top: 1rem;
    width: 100%;
}

.panel-footer-injected > * {
    display: block;
    width: 100%;
    padding: 0.85rem;
    border-radius: 18px;
    background: rgba(255, 255, 255, 0.85);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.75), 0 12px 24px rgba(15, 23, 42, 0.08);
}

/* gradient glow using a pseudo-element so we can control the spread and color smoothly */
.nav-rail__panel::after {
    display: none;
}

/* soft top-left highlight to simulate a light source */
.nav-rail__panel::before {
    display: none;
}

/* Hover: lift the panel slightly and intensify shadows/glow for a floating 3D feel */

/* When panel is collapsed, hide it completely */
.nav-rail-shell.collapsed .nav-rail__panel {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    width: 0 !important;
    min-width: 0 !important;
    padding: 0 !important;
    transform: translateX(-16px) scale(0.98) !important;
    box-shadow: none !important;
    pointer-events: none !important;
}

.nav-rail-shell:not(.collapsed) .nav-rail__panel {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    animation: railPanelReveal 320ms cubic-bezier(.2, .9, .2, 1) 40ms both;
}

@keyframes railPanelReveal {
    0% {
        opacity: 0;
        transform: translateX(-18px) scale(0.96);
    }

    60% {
        opacity: 1;
        transform: translateX(3px) scale(1.01);
    }

    100% {
        opacity: 1;
        transform: translateX(0) scale(1);
    }
}

/* reduce intensity on smaller screens to improve performance and avoid visual noise */
@media (max-width: 767px) {
}

/* Keep internal scrolling behavior (so the rail doesn't force body/document scrolling)
   but hide the native scrollbars so the rail visually has no scroll UI. This
   preserves wheel/touch scrolling while preventing visible scrollbars. */
.nav-rail__main,
.nav-rail__panel {
    -ms-overflow-style: none;
}

.nav-rail__main::-webkit-scrollbar,
.nav-rail__panel::-webkit-scrollbar {
    width: 0;
    height: 0;
}

@media (prefers-reduced-motion: reduce) {
    .nav-rail__panel {
        animation: none !important;
        transform: none !important;
    }

    .panel-card__item,
    .panel-card__icon,
    .panel-card__chevron,
    .panel-card__item * {
        transition-duration: 0.01ms !important;
        transition-delay: 0s !important;
        transform: none !important;
    }
}

/* Breakpoints: keep rail+panel for mobile and tablet */
@media (max-width: 767px) {
}

@media (min-width: 768px) and (max-width: 1024px) {
}
