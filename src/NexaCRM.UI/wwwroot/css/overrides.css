/* Global overrides for sidebar / main layout offsets.
   Placed in a non-scoped global CSS file and loaded after other styles so
   it reliably wins over component-scoped rules injected by Blazor.
*/

/* Ensure the panel-open overlay does not push the main content */
.page.desktop-layout.desktop-shell .sidebar.panel-open ~ .desktop-shell__main {
    --desktop-shell-offset: 0px !important;
    margin-left: var(--desktop-shell-offset) !important;
    width: max(0px, calc(100% - var(--desktop-shell-offset))) !important;
    /* ensure panel overlays the main content by keeping main at lower stacking
       priority when the panel is open */
    position: relative;
    z-index: 0 !important;
}

/* When the sidebar is present but not in overlay mode, reserve space for the
   fixed rail and sidebar width so the main content begins to the right of the
   navigation tail. */
.page.desktop-layout.desktop-shell .sidebar:not(.panel-open) ~ .desktop-shell__main {
    --desktop-shell-offset: calc(var(--nav-rail-width, 80px) + var(--nav-width, 320px)) !important;
    margin-left: var(--desktop-shell-offset) !important;
    width: max(0px, calc(100% - var(--desktop-shell-offset))) !important;
    position: relative;
    z-index: 0 !important;
}

/* Keep collapsed behavior consistent */
.page.desktop-layout.desktop-shell .sidebar.collapsed ~ .desktop-shell__main {
    --desktop-shell-offset: var(--nav-collapsed-width, 72px) !important;
    margin-left: var(--desktop-shell-offset) !important;
    width: max(0px, calc(100% - var(--desktop-shell-offset))) !important;
    position: relative;
    z-index: 0 !important;
}

/* Provide a very-specific fallback that targets the desktop-shell main
   element attribute that Blazor may add in scoped CSS builds. This is a
   defensive selector to help in some build/dev tooling scenarios. */

